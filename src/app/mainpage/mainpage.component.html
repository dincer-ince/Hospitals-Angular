
<div style="background-color:#f2efe9; height:99vh;">

  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">
        <img src="/assets/hacettepe1.png" alt="" width="24" height="30" class="d-inline-block align-text-top">
        Hacettepe
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <button class="btn btn-xl" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasTop" aria-controls="offcanvasTop">Filter</button>
          </li>
          <li class="nav-item">
            <button  (click)="this.resetFilter()"class="btn btn-xl">Reset Filters</button>
          </li>

        </ul>
      </div>
    </div>
  </nav>



  
  <div *ngIf="this.loading==true">
      <app-spinner></app-spinner>
  </div>
  
  <div id="popup" class="ol-popup">
      <a href="#" id="popup-closer" class="ol-popup-closer"></a>
      <div id="popup-content"></div>
    </div>
  <div class="row">
      <div id="map" class="map"></div>
  </div>
  



  <!-- modal -->



   <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Hospital Details</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div  class="modal-body">
          <h5 style="text-align: center;">{{this.hospitalDetails.name}}</h5>
          
          <table class="table ">
            <thead>

            </thead>
            <tbody>
              <tr>
                
                <td>State</td>
                <td>{{this.hospitalDetails.state}}</td>

              </tr>
              <tr>
                
                <td>City</td>
                <td>{{this.hospitalDetails.city}}</td>

              </tr>
              <tr>
                
                <td>County</td>
                <td>{{this.hospitalDetails.county}}</td>

              </tr>
              <tr>
                
                <td>Type</td>
                <td>{{this.hospitalDetails.type}}</td>

              </tr>
              <tr>
                
                <td>Population</td>
                <td>{{this.hospitalDetails.population}}</td>

              </tr>
              <tr class="table-danger" *ngIf="this.hospitalDetails.helipad=='N'">
                
                <td >Helipad</td>
                <td>{{this.hospitalDetails.helipad}}</td>

              </tr>
              <tr class="table-success" *ngIf="this.hospitalDetails.helipad=='Y'">
                
                <td >Helipad</td>
                <td>Available</td>

              </tr>


            </tbody>
          </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>

        </div>
      </div>
    </div>
  </div> 

  <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasTop" aria-labelledby="offcanvasTopLabel">
    <div class="offcanvas-header">
      <h5 id="offcanvasTopLabel">Hospital Filter</h5>
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      
      <div class="accordion accordion-flush" id="accordionFlushExample">
        <div class="accordion-item">
          <h2 class="accordion-header" id="flush-headingOne">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
              Filter by Name
            </button>
          </h2>
          <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
              <form [formGroup]="this.formState">
                <input class="form-control" type="text" placeholder="Hospital Name" formControlName="HospitalName">
                <div style="margin-top:20px" class="col text-center">
                  <button *ngIf="this.formState.value.HospitalName!=''" class="btn btn-secondary " type="submit" (click)="filterByName()"  data-bs-target="#offcanvasTop" data-bs-dismiss="offcanvas" >Apply Filter</button>
                </div>
              </form>

            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="flush-headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
              Filter by State
            </button>
          </h2>
          <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
              <form [formGroup]="this.formState">
                <select class="form-select form-control" formControlName="HospitalState">
                  <option value="" disabled  >Choose your State</option>
                  <option *ngFor="let state of this.service.USStateList" [ngValue]="state.abbreviation" >{{state.name}}</option>
                </select>
                <div style="margin-top:20px" class="col text-center">
                  <button *ngIf="this.formState.value.HospitalState!=''" class="btn btn-secondary " type="submit" (click)="filterByState()"  data-bs-target="#offcanvasTop" data-bs-dismiss="offcanvas" >Apply Filter</button>
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="flush-headingThree">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
              Filter by Type
            </button>
          </h2>
          <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
              <form [formGroup]="this.formState">
                <select class="form-select form-control" formControlName="HospitalType">
                  <option value="" disabled  >Choose the Hospital Type</option>
                  <option *ngFor="let type of this.service.HospitalTypes" [ngValue]="type" >{{type}}</option>
                </select>
                <div style="margin-top:20px" class="col text-center">
                  <button *ngIf="this.formState.value.HospitalType!=''" class="btn btn-secondary " type="submit" (click)="filterByType()"  data-bs-target="#offcanvasTop" data-bs-dismiss="offcanvas" >Apply Filter</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>


    </div>
  </div>

</div>